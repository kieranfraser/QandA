"use strict";var __decorate=this&&this.__decorate||function(e,t,o,s){var i,n=arguments.length,c=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(n<3?i(c):n>3?i(t,o,c):i(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,s){t(o,s,e)}},core_1=require("@angular/core"),question_1=require("../../models/question"),dashboard_component_1=require("../../dashboard/components/dashboard.component"),QuestionInputComponent=function(){function e(e){this._parent=e,this.types=["Free-text","Multi-choice"],this.today=new Date,this.socket=null,this.questionModel=new question_1.Question(this.selectedClass,"","",[],[],"id",this.today.toString(),this.types[0],"","name","pic",[]),this.choiceOne="",this.choiceTwo="",this.choiceThree="",this.choiceFour="",this.questionTags=[],this.submitted=!1,this.selectedClass=this._parent.selectedClass}return e.prototype.onSubmit=function(){this.submitted=!0,this.today=new Date,console.log(this.questionModel),console.log(this.selectedClass),this.questionModel.classid=this.selectedClass,this.questionModel.tags=this.questionTags,"Multi-choice"===this.questionModel.type&&(console.log("the choices are:"),console.log(this.questionModel.choices),this.questionModel.choices=[this.choiceOne,this.choiceTwo,this.choiceThree,this.choiceFour]);var e=JSON.stringify(this.questionModel);console.log(e),console.log(JSON.stringify(this.questionModel)),this.questionModel=new question_1.Question(this.selectedClass,"","",[],[],JSON.parse(localStorage.getItem("profile")).user_id,this.today.toString(),this.types[0],"",JSON.parse(localStorage.getItem("profile")).name,JSON.parse(localStorage.getItem("profile")).picture,[]),this.socket.emit("update","question")},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"selectedClass",void 0),e=__decorate([core_1.Component({selector:"question-input-cmp",templateUrl:"question-input/templates/question_input.html"}),__param(0,core_1.Inject(core_1.forwardRef(function(){return dashboard_component_1.DashboardComponent}))),__metadata("design:paramtypes",[dashboard_component_1.DashboardComponent])],e)}();exports.QuestionInputComponent=QuestionInputComponent;