"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(s<3?r(i):s>3?r(t,o,i):r(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},core_1=require("@angular/core"),question_1=require("../../models/question"),dashboard_component_1=require("../../dashboard/components/dashboard.component"),answer_component_1=require("./answer.component"),answer_input_component_1=require("./answer-input.component"),questionfeed_service_1=require("../services/questionfeed.service"),donut_component_1=require("../../graphs/components/donut.component"),QuestionFeedComponent=function(){function e(e,t,o){this._parent=e,this._questionFeedService=t,this.ref=o,this.socket=null}return e.prototype.ngOnInit=function(){console.log("Feed Loaded"),this.selectedQuestion=new question_1.Question("","","","",[],[],"","","","","","",[])},e.prototype.clickedQuestion=function(e){this.selectedQuestion=e,firebase.database().ref("questions/"+this.selectedQuestion.id).on("value",function(e){console.log("question feed","questions"),console.log(e.val()),null!=e.val()&&(this.selectedQuestion=this._questionFeedService.questionFromJSON(e.val())),this.ref.detectChanges()}.bind(this))},e.prototype.ngOnDestroy=function(){this.ref.detach()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"classValue",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"questions",void 0),e=__decorate([core_1.Component({selector:"question-feed-cmp",templateUrl:"question-feed/templates/question_feed.html",directives:[answer_component_1.AnswerComponent,answer_input_component_1.AnswerInputComponent,donut_component_1.DonutComponent],providers:[questionfeed_service_1.QuestionFeedService]}),__param(0,core_1.Inject(core_1.forwardRef(function(){return dashboard_component_1.DashboardComponent}))),__metadata("design:paramtypes",[dashboard_component_1.DashboardComponent,questionfeed_service_1.QuestionFeedService,core_1.ChangeDetectorRef])],e)}();exports.QuestionFeedComponent=QuestionFeedComponent;