"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},core_1=require("@angular/core"),router_1=require("@angular/router"),angular2_jwt_1=require("angular2-jwt"),home_component_1=require("./home.component"),LandingComponent=function(){function e(e,t,o){this.router=e,this.ref=t,this._parent=o,this.lock=new Auth0Lock("ZUCNGuYeq1sAevQJNPUjSPKodgP8yBEy","qandauth.eu.auth0.com")}return e.prototype.ngOnInit=function(){this.lock.show({container:"authLogin"},function(e,t,o){return e?void console.log("There was an error :/",e):(localStorage.setItem("profile",JSON.stringify(t)),localStorage.setItem("id_token",JSON.stringify(o)),void this._parent.goToDashboard())}.bind(this))},e.prototype.logout=function(){localStorage.removeItem("profile"),localStorage.removeItem("id_token")},e.prototype.loggedIn=function(){return this._parent.goToDashboard(),angular2_jwt_1.tokenNotExpired()},e.prototype.ngOnDestroy=function(){this.ref.detach()},e=__decorate([core_1.Component({selector:"landing-cmp",templateUrl:"home/templates/landing.html",styleUrls:["home/styles/landing.scss"]}),__param(2,core_1.Inject(core_1.forwardRef(function(){return home_component_1.HomeComponent}))),__metadata("design:paramtypes",[router_1.Router,core_1.ChangeDetectorRef,home_component_1.HomeComponent])],e)}();exports.LandingComponent=LandingComponent;